<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>
            let totalWins = 0;
            let totalLoss = 0;
            //// KEY:
            //// ROCK = 0
            //// PAPER = 1
            //// SCISSORS = 2
            function computerPlay() {
                return Math.floor(Math.random()*3);
            }

            function playerPlay() {
                let choice = prompt("Rock, Paper, or Scissor?").toLowerCase();
                if(choice == "rock") {
                    return 0;
                } else if(choice == "paper") {
                    return 1;
                } else if(choice == "scissors") {
                    return 2;
                } else {
                    alert("Invalid choice!");
                    return playerPlay();
                }
            }

            function playRound(playerSelection, computerSelection) {
                if(playerSelection == computerSelection) {
                    return "No winner";
                } else if(Math.abs(playerSelection - computerSelection) == 1) {
                    let toReturn = "";
                    if(playerSelection > computerSelection) {
                        toReturn = "You Win! " + (playerSelection == 1 ? "Paper beats Rock!": "Scissors beats Paper!");
                        totalWins++;
                    } else {
                        toReturn = "You Lose! " + (computerSelection == 1 ? "Paper beats Rock!": "Scissors beats Paper!");
                        totalLoss++;
                    }
                    return toReturn;
                } else {
                    if(playerSelection == 0){
                        totalWins++;
                        return "You Win! Rock beats Scissors!";
                        
                    } else {
                        totalLoss++;
                        return "You Lose! Rock beats Scissors!";
                    }
                }
            }

            function game() {
                totalWins = 0;
                totalLoss = 0;
                for(let i = 0; i < 5; i++) {
                    console.log(playRound(playerPlay(), computerPlay()));
                }
            }

            game();
            console.log(`Wins: ${totalWins}, Losses: ${totalLoss}`);
            
        </script>
    </body>
</html>